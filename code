from IPython import get_ipython
from IPython.display import display
# %%
# Install Meteostat once per runtime
!pip install meteostat --quiet

from meteostat import Daily, Point
import pandas as pd
from datetime import datetime

# 1) Define Islamabad airport weather station
isl = Point(33.6167, 73.0992)        # lat, lon, alt are handled internally

# 2) Pull last 3 years of daily data
# Convert start and end dates to datetime objects
start = datetime(2022, 1, 1)
end = datetime(2024, 12, 31)
data = Daily(isl, start=start, end=end).fetch()

# 3) Reset index so DATE is a column
data = data.reset_index()            # Columns: time, tavg, tmin, tmax, prcp, snow, wdir, wspd, pres, tsun
data.rename(columns={'time': 'date'}, inplace=True)

# 4) Save for reuse
data.to_csv('isl_daily_weather_2022_2024.csv', index=False)

print("Rows:", len(data))
data.head()




  import matplotlib.pyplot as plt
import numpy as np # Importing numpy for demonstration

# Replace these with your actual data or how you load it.
y_test = np.random.rand(100) # Example y_test data
y_pred = np.random.rand(100) # Example y_pred data


import matplotlib.pyplot as plt
import numpy as np # Importing numpy for demonstration

# Replace these with your actual data or how you load it.
y_test = np.random.rand(100) # Example y_test data
y_pred = np.random.rand(100) # Example y_pred data


plt.figure()
plt.plot(y_test, label="Actual") # Removed .values as y_test is now a numpy array
plt.plot(y_pred, label="Predicted")
plt.legend()
plt.show()
